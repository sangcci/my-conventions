프로젝트에서 `User` Entity의 연관관계가 5개 이상 필드에 존재하는 것을 보고 경악을 금치 못했다.

또한 JPA 특성 상 연관관계의 객체 자체를 참조하기 때문에, 데이터베이스에서 불러올 때 무조건 객체를 불러와야 하기 때문에 JOIN 쿼리가 발생하는 경우도 많이 존재했다.

LAZY 로딩 전략 등을 설정할 순 있지만, 그때부터 JPA 설정과 관련된 너무 많은 지식을 알고 있어야 한다.

### 연관 관계를 가지지 않을 경우
장점
운영 편의성이 증가한다.

단점
무결성을 보장받지 못한다.

### 생명 주기

> 객체의 생명주기가 '완전히' 같다면 연관관계 도입을 '고민'한다.
제민님의 영상에서 언급한 내용에 의하면, 왠만하면 연관관계를 걸지 않는다고 하는데 위 경우라면 도입을 고민한다고 한다.

양방향 Entity, 연관관계의 떡칠 코드 + DB Entity를 domain으로 사용하는 조합을 보면,
서비스 로직을 작성할 때 
- Entity를 불러오고 반환하는 과정이 정말 많다.
- JPA를 사용했을 때의 쿼리 최적화 문제도 발생한다.

Entity를 불러오고 반환하는 과정이 서비스 로직에 많아질수록, 코드를 이해하기 힘들어지고 정작 중요한 비즈니스 로직을 이해하지 못하는 경우가 많다.
JPA의 N+1 문제는 덤으로 발생하고, 순환 참조 문제로 인해 StackOverFlow까지 발생할 수 있는 최악의 조건이다.

### 식별자

식별자로만 구분할 수 있다.

### 무결성

제민님의 영상에서 언급한 내용에 의하면
어떤 데이터냐에 따라 다르게 설정하며
만일 데이터가 무결성을 매우 중요시하게 생각한다면 연관관계를 거는것이 중요하다고 한다.
하지만 그렇게까지 무결성을 지키지 않아도(물론 지킬려고 최선의 노력은 가하지만) 서비스 운영 상에 큰 문제가 발생하지 않는다면, 운영 편의성을 위해 걸지 않는다.

---

[ID로 다른 애그리게잇을 참조하라 - Yoo Young-mo](https://medium.com/@SlackBeck/id%EB%A1%9C-%EB%8B%A4%EB%A5%B8-%EC%95%A0%EA%B7%B8%EB%A6%AC%EA%B2%8C%EC%9E%87%EC%9D%84-%EC%B0%B8%EC%A1%B0%ED%95%98%EB%9D%BC-4d64f1591e60)

[DB 외래키에 대해 / JPA 인덱스 명시 + 양방향 연관관계 - 제미니의 개발실무](https://www.youtube.com/watch?v=6q0-IT5J0nI)

[JPA Entity 연관관계 어떻게 걸까요? + 엔티티 연관관계 PTSD - 제미니의 개발실무](https://www.youtube.com/watch?v=vgNHW_nb2mg)
